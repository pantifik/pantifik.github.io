/* Fri Mar 09 2018 21:43:26 GMT+0300 (MSK) */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";function e(){window.jsConfig&&(Y.setConfig(window.jsConfig),delete window.jsConfig),window.jsPath&&(Y.setJsPath(window.jsPath),delete window.jsPath),window.iFaceToggles&&(Y.setIFaceToggles(window.iFaceToggles),delete window.iFaceToggles)}function t(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}function n(){return"undefined"!=typeof document&&"undefined"!=typeof document.location&&document.location.host&&document.location.host.match(/^\w+\.dev\./)}function o(){return null!==this.ws}function i(e){this.ws=new WebSocketClient(e)}function r(){return null===this.ws&&(this.ws=new WebSocketClient),this.ws}function s(){return getCookie("debug")}function a(e){return e?lang[e]:lang}function d(e){$.extend(O,e)}function f(e,t){return"undefined"!=typeof O[e]?O[e]:"undefined"!=typeof t?t:null}function c(e){$.extend(x,e)}function u(e){return"undefined"!=typeof x[e]?x[e]:null}function l(e){var t=f("builds_on_planet");return $.isPlainObject(t)&&"undefined"!=typeof t[e]?t[e]:0}function g(e){return O.awards&&O.awards[e]||0}function p(e){return O.tech&&O.tech[e]||0}function w(e,t){var n=f("tech");n[e]=t,d({tech:n})}function v(e){return $(f("opened_in_vk")?"#box":window).scrollTop(e)}function y(e,t,n){$.get("/ajax/saver/?type="+e+"&key="+t+"&value="+n)}function h(e){Y.toggles_id=e;for(var t in R)R.hasOwnProperty(t)&&_(R[t],e&R[t].id)}function _(e,t,n){var o=0;if("undefined"==typeof n&&(n=!1),$.isPlainObject(e)){if(o=e.id,!n)for(var i in e.elems)if(e.elems.hasOwnProperty(i)){var r={display:t?"none":null},s={display:t?null:"none"};b().add(e.elems[i],r).add(e.elems[i]+"_stoggle",s).add(e.elems[i]+"_htoggle",r)}}else{if("number"!=typeof e)return void console.error("setIFaceToggle param is not object");o=e}o>0&&Boolean(Y.toggles_id&o)!==Boolean(t)&&(t?Y.toggles_id|=o:Y.toggles_id&=~o,y("iface_toggle",o,t))}function b(){return Y.cssrules||(Y.cssrules=new CSSRules("#jscssrules")),Y.cssrules}function m(){}function T(){return document.body.id.replace("body_","")}function P(e){return"undefined"==typeof e?Y.page_options:(Y.page_options=e,Y)}function S(){return O.zIndex=O.zIndex||1005,++O.zIndex}function I(e,t){var n=void 0,o=void 0,i=void 0,r=void 0;Interface.isAdaptive()?(n=" ",o="td",i=' class="container" ',r=' class="striped thick" '):(n=" onclick=\"$('#notice_main').hide();\" ",o="th",i="",r=" "),e[0]="";var s=void 0,d=void 0,f=void 0,c="<div"+i+">"+t+"</div><table"+r+"style='width: 100%'>";c+=" \t\t\t\t<"+o+' style="width: 25%">'+a("terran")+"</"+o+"> \t\t\t\t<"+o+' style="width: 25%">'+a("zerg")+"</"+o+"> \t\t\t\t<"+o+' style="width: 25%">'+a("protos")+"</"+o+"> \t\t\t";var u={terran:[],zerg:[],protos:[],unknown:[]},l={terran:0,zerg:0,protos:0,unknown:0};for(d in e)e.hasOwnProperty(d)&&(f=getUnitRace(d),u[f][l[f]]=d,l[f]++);var g=Math.max(l.terran,l.zerg,l.protos);for(s=0;s<g;s++){var p="undefined"!=typeof u.terran[s]?u.terran[s]:0,w="undefined"!=typeof u.zerg[s]?u.zerg[s]:0,v="undefined"!=typeof u.protos[s]?u.protos[s]:0;c+="\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t<td><a"+n+'data-infos="'+p+'" href="/infos/?gid='+p+'">'+e[p].replace("&nbsp;"," ")+"</a></td> \t\t\t\t\t\t<td><a"+n+'data-infos="'+w+'" href="/infos/?gid='+w+'">'+e[w].replace("&nbsp;"," ")+"</a></td> \t\t\t\t\t\t<td><a"+n+'data-infos="'+v+'" href="/infos/?gid='+v+'">'+e[v].replace("&nbsp;"," ")+"</a></td> \t\t\t\t\t</tr>\t\t\t\t\t"}if(l.unknown>1)for(c+=' \t\t\t\t\t<th colspan="4">'+a("others")+"</th> \t\t\t\t",s=0;s<l.unknown;s++)d=u.unknown[s],c+=' \t\t\t\t\t\t<tr> \t\t\t\t\t\t\t<td></td> \t\t\t\t\t\t\t<td colspan="2"><a'+n+'data-infos="'+d+'" href="/infos/?gid='+d+'">'+e[d].replace("&nbsp;"," ")+"</a></td> \t\t\t\t\t\t</tr> \t\t\t\t\t";return c+="</table>"}function j(){$.ajaxSetup({headers:{"X-Request-Version":f("jsversion")}})}function E(e,t){console.trace("deprecated"),Interface.Navigation.load(e,t?Interface.Navigation.OPT_NO_TOP:Interface.Navigation.OPT_EMPTY)}function C(){console.trace("deprecated"),Interface.Navigation.reload()}var O={},x={},F={0:"#ff0000",20:"#fff301",70:"#00ff11"},R={IFT_SPY_RESOURCES:{id:1,elems:[".js-sb-resources"]},IFT_SPY_BUILD:{id:2,elems:[".js-sb-build"]},IFT_SPY_TECH:{id:4,elems:[".js-sb-tech"]},IFT_SPY_ENHANCEMENT:{id:8,elems:[".js-sb-enhancement"]},IFT_SPY_DEFENSE:{id:16,elems:[".js-sb-defense"]},IFT_SPY_DEFENDERS:{id:32,elems:[".js-sb-defenders"]},IFT_SPY_FLEET:{id:64,elems:[".js-sb-fleet"]},IFT_ACH_AWARDS:{id:128,elems:[]}},M=0,k={},N={galaxy:-1,system:-1,planet:-1},Y=(new Map([[1,"insect"],[2,"station"],[4,"coords"],[5,"void"],[6,"wormhole"],[7,"debris"],[8,"asteroid"],[9,"planet"],[10,"moon"]]),{unusedVar:1,config:O,js:x,progressColors:F,updatedata:{},lostupdatedata:{},cssrules:null,toggles:R,toggles_id:M,ws:null,page_options:k,coords:N,webGl:t(),dev:n(),reloadPage:C,loadPage:E,isWS:o,initWS:i,getWS:r,debug:s,getLang:a,setConfig:d,getConfig:f,setJsPath:c,getJsPath:u,getBuilding:l,getAwards:g,getTech:p,setTech:w,scrollTop:v,saveConfig:y,setIFaceToggles:h,setIFaceToggle:_,getCSSRules:b,setAdminInfoPanel:m,getPage:T,pageOptions:P,getZIndex:S,getTableFromInfosByTypes:I});"undefined"!=typeof exports&&(exports.Main=exports.Main||{},Object.assign(exports.Main,Y)),"undefined"!=typeof window&&(window.Main=window.Main||{},Object.assign(window.Main,Y),e()),$(window).one("initialized",j)}(),window.REQUIRE_OPT_EMPTY=0,window.REQUIRE_OPT_SYNC_LOAD=2,function(e){var t=[],n=1;e.require=function(e,o,i){var r="string"==typeof e?[e]:e;i=i||REQUIRE_OPT_EMPTY;var s=function(e){var o=void 0,r=void 0,s=void 0;if(e instanceof Object)o=e.path,r=e.version;else{var a=e.split("?");o=a[0],r="undefined"!=typeof Main&&Main.getConfig("jsversion")}if(o.indexOf("v=")!==-1&&(r=!1),i&n||void 0===t[o]){s=$.Deferred(),i&n?$('script[src^="'+o+'"]').remove():t[o]=s;var d=document.createElement("script");d.onload=function(){s.resolve()},d.onerror=function(){delete t[o],s.reject()},d.src=o+(r?"?v="+r:""),document.body.appendChild(d)}else s=t[o];return s};if(!(i&REQUIRE_OPT_SYNC_LOAD)){var a=$.map(r,function(e){return s(e)});return $.when.apply(null,a).then(function(){"function"==typeof o&&o()})}var d=function(){var e=$.when();return $.each(r,function(t,n){e=e.then(function(){return s(n)})}),{v:e.done(function(){"function"==typeof o&&o()})}}();if("object"===("undefined"==typeof d?"undefined":_typeof(d)))return d.v},e.include=function(e,t){return this.require(e,t,n)}}(void 0!==Main?Main:window);